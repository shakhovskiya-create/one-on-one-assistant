# EKF Hub - –ü–ª–∞–Ω —Ä–∞–±–æ—Ç

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-21
**–°—Ç–∞—Ç—É—Å:** Sprint 1 –∑–∞–≤–µ—Ä—à—ë–Ω ‚úÖ
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-21

---

## –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –∞–Ω–∞–ª–∏–∑–∞

### –ó–∞–¥–∞—á–∏ (Tasks/Kanban)
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|--------|------------|
| –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ú–æ–∏/–í—Å–µ | ‚úÖ –ï—Å—Ç—å | –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| –≠–ø–∏–∫–∏ –∏ –ø–æ–¥–∑–∞–¥–∞—á–∏ | ‚úÖ –ï—Å—Ç—å | ParentID + IsEpic |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—á | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –ë–î –µ—Å—Ç—å, —Ö–µ–Ω–¥–ª–µ—Ä—ã –Ω–µ –ø–æ–ª–Ω—ã–µ |
| –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ | ‚ùå –ù–µ—Ç | –ù–µ—Ç –ø–æ–ª–µ–π cost/budget |
| –¢–µ–≥–∏ | ‚úÖ –ï—Å—Ç—å | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| –†–µ–∂–∏–º –±–∏–∑–Ω–µ—Å/—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ | ‚ùå –ù–µ—Ç | –ù–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º |
| –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å | ‚ùå –ù–µ—Ç | –¢–æ–ª—å–∫–æ read-only –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Confluence | ‚ùå –ù–µ—Ç | |

### –°–æ–æ–±—â–µ–Ω–∏—è (Messenger)
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|--------|------------|
| –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è | ‚úÖ –ï—Å—Ç—å | WebSocket real-time |
| –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è | ‚úÖ –ï—Å—Ç—å | MinIO storage, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ |
| –í–∏–¥–µ–æ–∫—Ä—É–∂–∫–∏ | ‚úÖ –ï—Å—Ç—å | MinIO storage, circular display |
| –ö–∞–Ω–∞–ª—ã | ‚úÖ –ï—Å—Ç—å | –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—é—Ç |
| –ü—Ä–µ–≤—å—é –≤ sidebar | ‚úÖ –ï—Å—Ç—å | üé§/üìπ –∏–∫–æ–Ω–∫–∏ –¥–ª—è –º–µ–¥–∏–∞ |
| –°—Ç–∏–∫–µ—Ä—ã/GIF | ‚ùå –ù–µ—Ç | –¢–æ–ª—å–∫–æ emoji |
| Telegram –±–æ—Ç—ã | ‚úÖ –ï—Å—Ç—å | Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |
| –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | UI –µ—Å—Ç—å, –±—ç–∫–µ–Ω–¥ –Ω–µ—Ç |
| –†–µ–∞–∫—Ü–∏–∏ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –õ–æ–∫–∞–ª—å–Ω—ã–µ, –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è |

### –ü–æ—á—Ç–∞ (Mail)
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|--------|------------|
| –°–ø–∏—Å–æ–∫ –ø–∏—Å–µ–º | ‚úÖ –ï—Å—Ç—å | EWS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |
| –¶–µ–ø–æ—á–∫–∏ –ø–∏—Å–µ–º | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –ü–æ conversation_id –∏–ª–∏ subject |
| Rich-—Ä–µ–¥–∞–∫—Ç–æ—Ä | ‚ùå –ù–µ—Ç | –¢–æ–ª—å–∫–æ plain text |
| –í–ª–æ–∂–µ–Ω–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ | ‚úÖ –ï—Å—Ç—å | Base64 |
| –í–ª–æ–∂–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∞ | ‚ùå –ù–µ—Ç | |
| –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –ü–æ email lookup |
| –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ –æ–∫–Ω–µ | ‚ùå –ù–µ—Ç | |
| –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –≤—Å—Ç—Ä–µ—á | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –µ—Å—Ç—å, –æ—Ç–≤–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç |

### –ö–∞–ª–µ–Ω–¥–∞—Ä—å (Calendar)
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|--------|------------|
| –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á | ‚úÖ –ï—Å—Ç—å | Day/Week/Month |
| –£—á–∞—Å—Ç–Ω–∏–∫–∏ –≤—Å—Ç—Ä–µ—á–∏ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –î–∞–Ω–Ω—ã–µ –µ—Å—Ç—å, UI –Ω–µ–ø–æ–ª–Ω—ã–π |
| –°—Ç–∞—Ç—É—Å—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | Response –µ—Å—Ç—å –≤ –¥–∞–Ω–Ω—ã—Ö |
| –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | UI –µ—Å—Ç—å, –±—ç–∫–µ–Ω–¥ –Ω–µ–ø–æ–ª–Ω—ã–π |
| –§–æ—Ç–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | ‚ùå –ù–µ—Ç | |
| –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –ë—ç–∫–µ–Ω–¥ –µ—Å—Ç—å, UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–ª–∞–±–∞—è |

---

## –ü–õ–ê–ù –†–ê–ë–û–¢

### –§–∞–∑–∞ 1: –ó–∞–¥–∞—á–∏ - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

#### 1.1 –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—á (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH
**–§–∞–π–ª—ã:**
- `backend/internal/handlers/tasks.go` - –¥–æ–±–∞–≤–∏—Ç—å CRUD –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `frontend/src/routes/tasks/+page.svelte` - UI –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `frontend/src/lib/api/client.ts` - API –º–µ—Ç–æ–¥—ã

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å endpoints: POST/DELETE /tasks/:id/dependencies
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –∑–∞–¥–∞—á –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
- [ ] –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å "–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞" –µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

#### 1.2 –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM
**–§–∞–π–ª—ã:**
- `migrations/` - –Ω–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –ø–æ–ª–µ–π cost/budget
- `backend/internal/models/models.go` - —Ä–∞—Å—à–∏—Ä–∏—Ç—å Task
- `backend/internal/handlers/tasks.go` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
- `frontend/src/routes/tasks/+page.svelte` - UI –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤

**–ù–æ–≤—ã–µ –ø–æ–ª—è:**
- `estimated_hours` - –æ—Ü–µ–Ω–∫–∞ –≤ —á–∞—Å–∞—Ö
- `actual_hours` - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —á–∞—Å—ã
- `estimated_cost` - –æ—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- `actual_cost` - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- `hourly_rate` - —Å—Ç–∞–≤–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–∏–∑ Employee)

#### 1.3 –†–µ–∂–∏–º –ë–∏–∑–Ω–µ—Å/–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH
**–§–∞–π–ª—ã:**
- `backend/internal/models/models.go` - –¥–æ–±–∞–≤–∏—Ç—å department_features
- `backend/internal/handlers/admin.go` - NEW –∞–¥–º–∏–Ω —Ö–µ–Ω–¥–ª–µ—Ä—ã
- `frontend/src/routes/admin/` - NEW –∞–¥–º–∏–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–õ–æ–≥–∏–∫–∞:**
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –ø—Ä–æ—Å—Ç–æ–π Kanban (backlog‚Üítodo‚Üíin_progress‚Üídone)
- –î–ª—è "–¶–∏—Ñ—Ä–æ–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ": –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (analysis‚Üídevelopment‚Üítesting‚Üíreview‚Üírelease)
- –ê–¥–º–∏–Ω–∫–∞ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ –¥—Ä—É–≥–∏–º –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º

#### 1.4 –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH
**–§–∞–π–ª—ã:**
- `frontend/src/routes/admin/+page.svelte` - NEW
- `frontend/src/routes/admin/users/+page.svelte` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `frontend/src/routes/admin/departments/+page.svelte` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤
- `backend/internal/handlers/admin.go` - NEW
- `backend/internal/middleware/admin.go` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ø–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ê—É–¥–∏—Ç –ª–æ–≥–∏

#### 1.5 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Confluence
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** LOW
**–§–∞–π–ª—ã:**
- `backend/internal/services/confluence/` - NEW –∫–ª–∏–µ–Ω—Ç
- `frontend/src/lib/components/ConfluenceEmbed.svelte` - NEW
- `backend/internal/handlers/confluence.go` - NEW

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É Confluence —á–µ—Ä–µ–∑ API
- Embed –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∑–∞–¥–∞—á–∏
- –ü–æ–∏—Å–∫ –∏ –ª–∏–Ω–∫–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

---

### –§–∞–∑–∞ 2: –°–æ–æ–±—â–µ–Ω–∏—è - Telegram-like —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

#### 2.1 –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** CRITICAL
**–§–∞–π–ª—ã:**
- `backend/internal/handlers/messenger.go` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—É–¥–∏–æ
- `backend/internal/handlers/files.go` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `frontend/src/routes/messenger/+page.svelte` - –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∞—É–¥–∏–æ –≤ storage (Supabase/S3)
- [ ] –î–æ–±–∞–≤–∏—Ç—å file_id –≤ Message –¥–ª—è –∞—É–¥–∏–æ
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∏–º–∏–Ω–≥–æ–≤–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å transcription —Å –∫–Ω–æ–ø–∫–æ–π –≤ UI

#### 2.2 –í–∏–¥–µ–æ–∫—Ä—É–∂–∫–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** CRITICAL
**–§–∞–π–ª—ã:**
- `frontend/src/routes/messenger/+page.svelte` - –∏—Å–ø—Ä–∞–≤–∏—Ç—å UI
- `backend/internal/handlers/messenger.go` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∏–¥–µ–æ

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤–∏–¥–µ–æ –≤ storage
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å circular display
- [ ] –î–æ–±–∞–≤–∏—Ç—å autoplay –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π preview –≤ —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤

#### 2.3 –ö–∞–Ω–∞–ª—ã (–¥–æ—Ä–∞–±–æ—Ç–∫–∞)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH
**–ó–∞–¥–∞—á–∏:**
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–æ–≤ –∫–∞–Ω–∞–ª–∞
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ sidebar

#### 2.4 –°—Ç–∏–∫–µ—Ä—ã –∏ GIF
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM
**–§–∞–π–ª—ã:**
- `backend/internal/handlers/stickers.go` - NEW
- `frontend/src/lib/components/StickerPicker.svelte` - NEW
- `migrations/` - —Ç–∞–±–ª–∏—Ü–∞ sticker_packs

**–ó–∞–¥–∞—á–∏:**
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∏–∫–µ—Ä-–ø–∞–∫–æ–≤
- [ ] GIPHY API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] UI picker –¥–ª—è —Å—Ç–∏–∫–µ—Ä–æ–≤/GIF
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

#### 2.5 Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM
**–ó–∞–¥–∞—á–∏:**
- [ ] –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (EKF ‚Üî Telegram)
- [ ] Forward —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram –±–æ—Ç

---

### –§–∞–∑–∞ 3: –ü–æ—á—Ç–∞ - Outlook-like —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

#### 3.1 Rich-—Ä–µ–¥–∞–∫—Ç–æ—Ä
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** CRITICAL
**–§–∞–π–ª—ã:**
- `frontend/src/lib/components/RichTextEditor.svelte` - NEW
- `frontend/src/routes/mail/+page.svelte` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ó–∞–¥–∞—á–∏:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å TipTap –∏–ª–∏ Quill editor
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (bold, italic, lists, etc.)
- [ ] –í—Å—Ç–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] HTML ‚Üí EWS –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è

#### 3.2 –í–ª–æ–∂–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH
**–§–∞–π–ª—ã:**
- `backend/internal/ews/client.go` - CreateItem —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏
- `frontend/src/routes/mail/+page.svelte` - file upload UI

#### 3.3 –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–∏—Å—å–º–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM
**–§–∞–π–ª—ã:**
- `frontend/src/routes/mail/[id]/+page.svelte` - NEW –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `frontend/src/lib/components/EmailWindow.svelte` - NEW popup –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

#### 3.4 –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM
**–ó–∞–¥–∞—á–∏:**
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –∏–∑ AD (thumbnailPhoto)
- [ ] Fallback –Ω–∞ Gravatar
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ

#### 3.5 –¶–µ–ø–æ—á–∫–∏ –ø–∏—Å–µ–º (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH
**–ó–∞–¥–∞—á–∏:**
- [ ] –£–ª—É—á—à–∏—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –ø–æ conversation_id
- [ ] –í–∏–∑—É–∞–ª—å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- [ ] Quick reply –≤ —Ü–µ–ø–æ—á–∫–µ

#### 3.6 –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤–ª–æ–∂–µ–Ω–∏–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM
**–§–∞–π–ª—ã:**
- `frontend/src/lib/components/AttachmentPreview.svelte` - NEW

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:**
- PDF viewer (pdf.js)
- Image viewer (lightbox)
- Office docs (—á–µ—Ä–µ–∑ iframe –∏–ª–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é)

---

### –§–∞–∑–∞ 4: –ö–∞–ª–µ–Ω–¥–∞—Ä—å - –£–ª—É—á—à–µ–Ω–∏—è

#### 4.1 –£—á–∞—Å—Ç–Ω–∏–∫–∏ –≤—Å—Ç—Ä–µ—á–∏
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** CRITICAL
**–§–∞–π–ª—ã:**
- `frontend/src/routes/calendar/+page.svelte` - —Ä–∞—Å—à–∏—Ä–∏—Ç—å event dialog

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–Ω–µ —Ç–æ–ª—å–∫–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞)
- [ ] –°—Ç–∞—Ç—É—Å—ã: Accepted/Declined/Tentative/Unknown
- [ ] –§–æ—Ç–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- [ ] –ò–∫–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤

#### 4.2 –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH
**–§–∞–π–ª—ã:**
- `backend/internal/ews/client.go` - CreateCalendarItem
- `backend/internal/handlers/calendar.go` - CreateMeeting endpoint
- `frontend/src/routes/calendar/+page.svelte` - –∏—Å–ø—Ä–∞–≤–∏—Ç—å drag-to-create

#### 4.3 –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–∏–µ (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM
**–ó–∞–¥–∞—á–∏:**
- [ ] –ö–Ω–æ–ø–∫–∞ "–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞—Ç—å" –≤–æ –≤—Å—Ç—Ä–µ—á–µ
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ –∑–∞–ø–∏—Å–∏
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞
- [ ] AI —Å–∞–º–º–∞—Ä–∏

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å JIRA (—á—Ç–æ –µ—â—ë –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)

| JIRA Feature | EKF Hub | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------------|---------|-----------|
| Workflows (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ) | ‚ùå | HIGH |
| Custom fields | ‚ùå | MEDIUM |
| Dashboards/Reports | ‚ùå | HIGH |
| Time tracking | ‚ùå | HIGH |
| Roadmap/Timeline | ‚ùå | MEDIUM |
| Backlog refinement | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | LOW |
| Scrum/Sprint boards | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | MEDIUM |
| –í–µ—Ä—Å–∏–∏/Releases | ‚ùå | HIGH |
| Components | ‚ùå | MEDIUM |
| Permissions scheme | ‚ùå | HIGH |
| Automation rules | ‚ùå | LOW |
| Integrations (Git, CI/CD) | ‚ùå | HIGH |

---

## –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–£–¢–í–ï–†–ñ–î–Å–ù–ù–´–ô)

**Storage:** MinIO (S3-compatible, –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
**Confluence:** https://confluence.ekf.su/ (Server/DC)

### Sprint 1: –°–û–û–ë–©–ï–ù–ò–Ø - Critical fixes ‚úÖ –ó–ê–í–ï–†–®–Å–ù
1. ‚úÖ **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MinIO, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–∞
2. ‚úÖ **–í–∏–¥–µ–æ–∫—Ä—É–∂–∫–∏** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MinIO, playVideo —Å server URL
3. ‚úÖ **–ö–∞–Ω–∞–ª—ã** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–Ω–∞–ª–∞
4. ‚úÖ **–ü—Ä–µ–≤—å—é –≤ —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤** - formatLastMessagePreview (üé§/üìπ –∏–∫–æ–Ω–∫–∏)

### Sprint 2: –°–û–û–ë–©–ï–ù–ò–Ø - Enhancements
1. –°—Ç–∏–∫–µ—Ä—ã –∏ GIF (GIPHY API)
2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (–±—ç–∫–µ–Ω–¥)
3. –†–µ–∞–∫—Ü–∏–∏ (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º)
4. Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è

### Sprint 3: –ó–ê–î–ê–ß–ò - Core features
1. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—á (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)
2. –†–µ–∂–∏–º –ë–∏–∑–Ω–µ—Å/–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º
3. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–±–∞–∑–æ–≤–∞—è)
4. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### Sprint 4: –ü–û–ß–¢–ê - Outlook-like
1. Rich-—Ä–µ–¥–∞–∫—Ç–æ—Ä (TipTap)
2. –í–ª–æ–∂–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∞
3. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ
4. –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤–ª–æ–∂–µ–Ω–∏–π

### Sprint 5: –ö–ê–õ–ï–ù–î–ê–†–¨ + JIRA parity
1. –£—á–∞—Å—Ç–Ω–∏–∫–∏ –≤—Å—Ç—Ä–µ—á–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏
2. –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
3. –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
4. Time tracking –¥–ª—è –∑–∞–¥–∞—á

### Sprint 6: Advanced
1. Confluence Server –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
2. Workflows (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ)
3. Dashboards/Reports
4. Git –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

---

## SPRINT 1: –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1.1 –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê—É–¥–∏–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Blob), –Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–∏—Ä—É–µ—Ç—Å—è, –¥—Ä—É–≥–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –≤–∏–¥—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**

**Backend –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```
backend/internal/handlers/messenger.go:
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ audio_file_id –≤ SendMessage
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∞—É–¥–∏–æ - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ Supabase Storage
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å URL –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
```

**Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```
frontend/src/routes/messenger/+page.svelte:
- sendVoiceMessage() ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç—å blob –≤ /files, –ø–æ–ª—É—á–∏—Ç—å file_id
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å message_type: "voice", file_id
- –ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å URL –∏–∑ file_id
- –î–æ–±–∞–≤–∏—Ç—å <audio> –ø–ª–µ–µ—Ä —Å controls
- –ö–Ω–æ–ø–∫–∞ "–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞—Ç—å" ‚Üí /speech/transcribe
```

**–ú–∏–≥—Ä–∞—Ü–∏—è:**
```sql
ALTER TABLE messages ADD COLUMN IF NOT EXISTS file_id UUID REFERENCES files(id);
ALTER TABLE messages ADD COLUMN IF NOT EXISTS duration_seconds INTEGER;
```

### 1.2 –í–∏–¥–µ–æ–∫—Ä—É–∂–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–∏–¥–µ–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫—Ä–∏–≤–æ, –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**

**Backend:**
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≥–æ–ª–æ—Å–æ–≤—ã–º - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Supabase
- –î–æ–±–∞–≤–∏—Ç—å thumbnail generation (–ø–µ—Ä–≤—ã–π –∫–∞–¥—Ä)

**Frontend:**
```
frontend/src/routes/messenger/+page.svelte:
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å CSS –¥–ª—è circular video: object-fit: cover, border-radius: 50%
- –ü–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ - —Å—Ä–∞–∑—É –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ storage
- –ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å URL –∏–∑ –±—ç–∫–µ–Ω–¥–∞
- Autoplay –ø—Ä–∏ –∫–ª–∏–∫–µ (–Ω–µ muted)
- Thumbnail –¥–ª—è preview
```

### 1.3 –ö–∞–Ω–∞–ª—ã

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ sidebar
- is_admin –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**Frontend fixes:**
```
messenger/+page.svelte:
- createConversation() ‚Üí —É–±–µ–¥–∏—Ç—å—Å—è type: "channel" –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è
- Sidebar: –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å subscriber count
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å is_admin –¥–ª—è –ø—Ä–∞–≤–∞ –ø–æ—Å—Ç–∏—Ç—å
```

### 1.4 –ü—Ä–µ–≤—å—é –≤ —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "[VOICE:...]" –≤–º–µ—Å—Ç–æ "–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"

**Frontend fix:**
```typescript
function formatLastMessage(msg: Message): string {
  if (msg.message_type === 'voice') return 'üé§ –ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ';
  if (msg.message_type === 'video') return 'üìπ –í–∏–¥–µ–æ—Å–æ–æ–±—â–µ–Ω–∏–µ';
  if (msg.message_type === 'file') return 'üìé –§–∞–π–ª';
  if (msg.content.startsWith('[VOICE:')) return 'üé§ –ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ';
  if (msg.content.startsWith('[VIDEO:')) return 'üìπ –í–∏–¥–µ–æ—Å–æ–æ–±—â–µ–Ω–∏–µ';
  return msg.content;
}
```

---

## –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏

### Backend
- `backend/internal/handlers/tasks.go`
- `backend/internal/handlers/messenger.go`
- `backend/internal/handlers/mail.go`
- `backend/internal/handlers/calendar.go`
- `backend/internal/handlers/admin.go` (NEW)
- `backend/internal/ews/client.go`
- `backend/internal/models/models.go`

### Frontend
- `frontend/src/routes/tasks/+page.svelte`
- `frontend/src/routes/messenger/+page.svelte`
- `frontend/src/routes/mail/+page.svelte`
- `frontend/src/routes/calendar/+page.svelte`
- `frontend/src/routes/admin/` (NEW)
- `frontend/src/lib/components/` (multiple NEW)

### Migrations
- Task dependencies handlers
- Resource planning fields
- Department features table
- Admin roles table
- Sticker packs table

---

## –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã:
1. –ó–∞–ø—É—Å–∫ `go build` –∏ `go test` –¥–ª—è backend
2. –ó–∞–ø—É—Å–∫ `npm run build` –¥–ª—è frontend
3. Docker-compose rebuild –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –ø–ª–∞–Ω–∞ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
