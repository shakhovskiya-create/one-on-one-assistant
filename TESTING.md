# TESTING.md
# EKF Hub — QA / Testing Playbook (мировой уровень)

Цель: чтобы любые изменения сопровождались честной проверкой качества.
Если прогон невозможен (нет доступа к окружению/команд/тестов) — это явно фиксируется.

---

## 1) Definition of Done для любого изменения

Изменение нельзя считать "готово", если:
- нет Test Plan (scope + риски + проверки),
- не указаны команды/проверки,
- нет результатов (pass/fail) или честного объяснения, почему прогон невозможен.

---

## 2) Обязательный минимальный набор проверок (каждый раз)

### A. Static checks
- форматирование/линт (Go + Frontend)
- проверка зависимостей/сборки

### B. Unit checks
- если есть unit tests: прогон обязателен
- если нет: указать "нет тестов", и предложить добавить минимальные

### C. API smoke
Должны быть проверены:
- /health (и расширенный health, если реализован)
- auth flow (логин/refresh если есть)
- 1–2 ключевых API для критичных функций, затронутых изменением

### D. UI smoke (минимум)
- login
- переходы по ключевым страницам, которые затронуты изменением
- отсутствие критичных ошибок в консоли/сети

### E. Regression (risk-based)
- выбирается по рискам изменения (а не "всё подряд")

---

## 3) Типовые команды (заполни под проект)

Ниже placeholders. Когда окажешься в репо — впиши реальные команды.

### Backend (Go)
- go test ./...
- go test -race ./... (по возможности)
- go vet ./...

### Frontend
- npm|pnpm|yarn test (если есть)
- npm|pnpm|yarn lint (если есть)
- npm|pnpm|yarn build

### Docker / runtime
- docker compose build
- docker compose up -d
- docker compose ps
- docker compose logs -f

### Smoke endpoints
- curl http://localhost/health

---

## 4) Правило честности

Запрещено утверждать, что "всё протестировано", если:
- ты не запускал команды и не видел результатов,
- у тебя нет доступа к окружению.
