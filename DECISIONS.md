# DECISIONS.md
# EKF Hub — Журнал решений (память об изменениях)

Назначение: фиксировать важные решения, которые AI и люди должны помнить.
Это НЕ changelog коммитов. Это журнал "почему мы сделали именно так".

Правило: любое решение, влияющее на безопасность, архитектуру, домен, контракты API,
инфраструктуру, данные — фиксируем здесь.

Формат записи:

## YYYY-MM-DD — <короткое название решения>
Контекст:
- почему возникло

Решение:
- что решили

Последствия:
- что улучшилось
- какие риски/компромиссы

Связанные изменения:
- файлы/коммиты/релиз (если есть)

---

## 2026-01-21 — Production hardening baseline
Контекст:
- аудит выявил критичные риски: порты наружу, secrets, TLS verify, отсутствие nginx entrypoint.

Решение:
- включили nginx как единую точку входа,
- закрыли прямые порты frontend/backend/postgres,
- вынесли secrets в env,
- подготовили SSL конфиг,
- включили health checks и бэкапы,
- добавили Redis как infra-компонент (кэш).

Последствия:
- рост безопасности и управляемости,
- часть задач требует пересборки backend/frontend (валидация, structured logging, redis cache).

Связанные изменения:
- см. IMPROVEMENTS.md
